<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-3"></span><span>
</span><span id="line-4"></span><span class="annot"><span class="hs-comment">{-|
    This module contains the definitions and semantics of different forms of observable actions, and inputs used in testing experiments.
-}</span></span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Lattest.Model.Alphabet</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-9"></span><span class="annot"><span class="hs-comment">-- * Translating between Actions and Inputs</span></span><span>
</span><span id="line-10"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#InputCommand"><span class="hs-identifier">InputCommand</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier">inputChoiceToActs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier">actToInputChoice</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span class="annot"><span class="hs-comment">-- * Action types</span></span><span>
</span><span id="line-14"></span><span class="annot"><span class="hs-comment">-- ** Inputs and Outputs</span></span><span>
</span><span id="line-15"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier">IOAct</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#isInput"><span class="hs-identifier">isInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#isOutput"><span class="hs-identifier">isOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#fromInput"><span class="hs-identifier">fromInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#fromOutput"><span class="hs-identifier">fromOutput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span class="annot"><span class="hs-comment">-- ** Observable Timeouts</span></span><span>
</span><span id="line-21"></span><span class="annot"><span class="hs-comment">{- |
    Observable actions that may be either inputs provided to a system, or outputs from that system, where the 'output' may also be an artificial
    output that represents an observed timeout. For the theoretical background on observing timeouts, see the notion of /quiescence/ in
    
    * [/Jan Tretmans/, Model based testing with labelled transition systems (Formal Methods and Testing), 2008](https://repository.ubn.ru.nl/bitstream/handle/2066/72680/72680.pdf)
-}</span></span><span>
</span><span id="line-27"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#Timeout"><span class="hs-identifier">Timeout</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIO"><span class="hs-identifier">TimeoutIO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#asTimeout"><span class="hs-identifier">asTimeout</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#fromTimeout"><span class="hs-identifier">fromTimeout</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- TODO decide on refusal or failure and be consistent</span><span>
</span><span id="line-32"></span><span class="annot"><span class="hs-comment">-- ** Input Failures</span></span><span>
</span><span id="line-33"></span><span class="annot"><span class="hs-comment">{- |
    For a 'Refusable' type of observable actions, it is possible to decide whether the action was accepted or refused by the system that exhibited
    that observed action. Refusal of an input represents the system being unable to process the given input. This concept is described as an 
    'input failure'. For a theoretical background on input failures, see 

    * [/Ramon Janssen/, Refinement and partiality for model-based testing (Doctoral dissertation), 2022, Chapter 3 and 4](https://repository.ubn.ru.nl/bitstream/handle/2066/285020/285020.pdf)
-}</span></span><span>
</span><span id="line-40"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#Refusable"><span class="hs-identifier">Refusable</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#isAccepted"><span class="hs-identifier">isAccepted</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#IFAct"><span class="hs-identifier">IFAct</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier">Attempt</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#asInputAttempt"><span class="hs-identifier">asInputAttempt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#fromInputAttempt"><span class="hs-identifier">fromInputAttempt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span class="annot"><span class="hs-comment">-- ** Combined Input Refusals and Timeouts</span></span><span>
</span><span id="line-47"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIF"><span class="hs-identifier">TimeoutIF</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#asTimeoutInputAttempt"><span class="hs-identifier">asTimeoutInputAttempt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#fromTimeoutInputAttempt"><span class="hs-identifier">fromTimeoutInputAttempt</span></a></span><span>
</span><span id="line-50"></span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">where</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="annot"><span class="hs-comment">{- |
    The class of observable actions for which it is possible to derive whether the actions are accepted or refused. For types where refusal does not
    make sense, the default implementation is that all actions are accepted.
-}</span></span><span>
</span><span id="line-57"></span><span class="hs-keyword">class</span><span> </span><span id="Refusable"><span class="annot"><a href="Lattest.Model.Alphabet.html#Refusable"><span class="hs-identifier hs-var">Refusable</span></a></span></span><span> </span><span id="local-6989586621679097439"><span class="annot"><a href="#local-6989586621679097439"><span class="hs-identifier hs-type">act</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-58"></span><span>    </span><span class="hs-comment">{- |
        Is the action accepted or refused?
    -}</span><span>
</span><span id="line-61"></span><span>    </span><span id="isAccepted"><span class="annot"><a href="Lattest.Model.Alphabet.html#isAccepted"><span class="hs-identifier hs-type">isAccepted</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679097439"><span class="hs-identifier hs-type">act</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-62"></span><span>    </span><span id="local-6989586621679097575"><span class="annot"><a href="Lattest.Model.Alphabet.html#isAccepted"><span class="hs-identifier hs-var hs-var">isAccepted</span></a></span><span> </span><span class="annot"><span class="annottext">act
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="annot"><span class="hs-comment">{- |
    If an input type is an 'InputCommand' to a type of observable actions, this means that
    
    * given such an input, it is possible to derive the corresponding observable action, or sequence of actions, and
    * an observable action may (but also may not) correspond to an input.
-}</span></span><span>
</span><span id="line-70"></span><span class="hs-keyword">class</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#Refusable"><span class="hs-identifier hs-type">Refusable</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097442"><span class="hs-identifier hs-type">act</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="InputCommand"><span class="annot"><a href="Lattest.Model.Alphabet.html#InputCommand"><span class="hs-identifier hs-var">InputCommand</span></a></span></span><span> </span><span id="local-6989586621679097441"><span class="annot"><a href="#local-6989586621679097441"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679097442"><span class="annot"><a href="#local-6989586621679097442"><span class="hs-identifier hs-type">act</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-comment">{- |
        If an observable action corresponds to an input, then derive that input.
    -}</span><span>
</span><span id="line-74"></span><span>    </span><span id="actToInputChoice"><span class="annot"><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-type">actToInputChoice</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679097442"><span class="hs-identifier hs-type">act</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679097441"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-comment">-- the input command that corresponds to given action (ideally, e.g. in case of a waiting time, the observed waiting time may be different than the intended waiting time)</span><span>
</span><span id="line-75"></span><span>    </span><span class="hs-comment">{- |
        Derive the sequence of observable actions that correspond to an input.
    -}</span><span>
</span><span id="line-78"></span><span>    </span><span id="inputChoiceToActs"><span class="annot"><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-type">inputChoiceToActs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679097441"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679097442"><span class="hs-identifier hs-type">act</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- which action(s) an input command corresponds to</span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span class="annot"><span class="hs-comment">{- |
    Observable actions that may be either inputs provided to a system, or outputs from that system.
-}</span></span><span>
</span><span id="line-83"></span><span class="hs-keyword">data</span><span> </span><span id="IOAct"><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-var">IOAct</span></a></span></span><span> </span><span id="local-6989586621679097470"><span class="annot"><a href="#local-6989586621679097470"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679097471"><span class="annot"><a href="#local-6989586621679097471"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="In"><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679097470"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Out"><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679097471"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097582"><span id="local-6989586621679097586"><span class="annot"><span class="annottext">IOAct i o -&gt; IOAct i o -&gt; Bool
(IOAct i o -&gt; IOAct i o -&gt; Bool)
-&gt; (IOAct i o -&gt; IOAct i o -&gt; Bool) -&gt; Eq (IOAct i o)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall i o. (Eq i, Eq o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Bool
$c== :: forall i o. (Eq i, Eq o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Bool
== :: IOAct i o -&gt; IOAct i o -&gt; Bool
$c/= :: forall i o. (Eq i, Eq o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Bool
/= :: IOAct i o -&gt; IOAct i o -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679097597"><span id="local-6989586621679097601"><span id="local-6989586621679097605"><span id="local-6989586621679097609"><span id="local-6989586621679097612"><span id="local-6989586621679097615"><span id="local-6989586621679097618"><span class="annot"><span class="annottext">Eq (IOAct i o)
Eq (IOAct i o)
-&gt; (IOAct i o -&gt; IOAct i o -&gt; Ordering)
-&gt; (IOAct i o -&gt; IOAct i o -&gt; Bool)
-&gt; (IOAct i o -&gt; IOAct i o -&gt; Bool)
-&gt; (IOAct i o -&gt; IOAct i o -&gt; Bool)
-&gt; (IOAct i o -&gt; IOAct i o -&gt; Bool)
-&gt; (IOAct i o -&gt; IOAct i o -&gt; IOAct i o)
-&gt; (IOAct i o -&gt; IOAct i o -&gt; IOAct i o)
-&gt; Ord (IOAct i o)
IOAct i o -&gt; IOAct i o -&gt; Bool
IOAct i o -&gt; IOAct i o -&gt; Ordering
IOAct i o -&gt; IOAct i o -&gt; IOAct i o
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {i} {o}. (Ord i, Ord o) =&gt; Eq (IOAct i o)
forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Bool
forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Ordering
forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; IOAct i o
$ccompare :: forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Ordering
compare :: IOAct i o -&gt; IOAct i o -&gt; Ordering
$c&lt; :: forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Bool
&lt; :: IOAct i o -&gt; IOAct i o -&gt; Bool
$c&lt;= :: forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Bool
&lt;= :: IOAct i o -&gt; IOAct i o -&gt; Bool
$c&gt; :: forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Bool
&gt; :: IOAct i o -&gt; IOAct i o -&gt; Bool
$c&gt;= :: forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; Bool
&gt;= :: IOAct i o -&gt; IOAct i o -&gt; Bool
$cmax :: forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; IOAct i o
max :: IOAct i o -&gt; IOAct i o -&gt; IOAct i o
$cmin :: forall i o. (Ord i, Ord o) =&gt; IOAct i o -&gt; IOAct i o -&gt; IOAct i o
min :: IOAct i o -&gt; IOAct i o -&gt; IOAct i o
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097459"><span id="local-6989586621679097460"><span id="local-6989586621679097625"><span id="local-6989586621679097630"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679097459"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679097460"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097459"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097460"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-86"></span><span>    </span><span id="local-6989586621679097635"><span class="annot"><span class="annottext">show :: IOAct i o -&gt; String
</span><a href="#local-6989586621679097635"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097637"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097637"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;?&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097637"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097638"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097638"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;!&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">o -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097638"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679097464"><span id="local-6989586621679097465"><span id="local-6989586621679097640"><span class="annot"><a href="Lattest.Model.Alphabet.html#Refusable"><span class="hs-identifier hs-type">Refusable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097464"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097465"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="annot"><span class="hs-comment">{- |
    Relates input commands to observable inputs. Note that this instance is not very practical for testing: during testing, a test controller
    is usually asked for inputs, and with this instance, it is not possible to skip selecting an input.
-}</span></span><span>
</span><span id="line-95"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097468"><span id="local-6989586621679097469"><span class="annot"><a href="Lattest.Model.Alphabet.html#InputCommand"><span class="hs-identifier hs-type">InputCommand</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097468"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097468"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097469"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>    </span><span id="local-6989586621679097650"><span class="annot"><span class="annottext">inputChoiceToActs :: i -&gt; [IOAct i o]
</span><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputChoiceToActs</span></a></span></span><span> </span><span id="local-6989586621679097651"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097651"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">i -&gt; IOAct i o
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097651"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-97"></span><span>    </span><span id="local-6989586621679097652"><span class="annot"><span class="annottext">actToInputChoice :: IOAct i o -&gt; Maybe i
</span><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-var hs-var hs-var hs-var">actToInputChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097653"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097653"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; Maybe i
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097653"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-var">actToInputChoice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe i
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="annot"><span class="hs-comment">{- |
    Is the given action an input?
-}</span></span><span>
</span><span id="line-103"></span><span id="local-6989586621679097654"><span id="local-6989586621679097655"><span class="annot"><a href="Lattest.Model.Alphabet.html#isInput"><span class="hs-identifier hs-type">isInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097654"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097655"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-104"></span><span id="isInput"><span class="annot"><span class="annottext">isInput :: forall i o. IOAct i o -&gt; Bool
</span><a href="Lattest.Model.Alphabet.html#isInput"><span class="hs-identifier hs-var hs-var">isInput</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-105"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#isInput"><span class="hs-identifier hs-var">isInput</span></a></span><span> </span><span class="annot"><span class="annottext">IOAct i o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-106"></span><span>
</span><span id="line-107"></span><span class="annot"><span class="hs-comment">{- |
    Is the given action an output?
-}</span></span><span>
</span><span id="line-110"></span><span id="local-6989586621679097656"><span id="local-6989586621679097657"><span class="annot"><a href="Lattest.Model.Alphabet.html#isOutput"><span class="hs-identifier hs-type">isOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097656"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097657"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-111"></span><span id="isOutput"><span class="annot"><span class="annottext">isOutput :: forall i o. IOAct i o -&gt; Bool
</span><a href="Lattest.Model.Alphabet.html#isOutput"><span class="hs-identifier hs-var hs-var">isOutput</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-112"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#isOutput"><span class="hs-identifier hs-var">isOutput</span></a></span><span> </span><span class="annot"><span class="annottext">IOAct i o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="annot"><span class="hs-comment">{- |
    Partially defined function that unpacks an input.
-}</span></span><span>
</span><span id="line-117"></span><span id="local-6989586621679097477"><span id="local-6989586621679097478"><span class="annot"><a href="Lattest.Model.Alphabet.html#fromInput"><span class="hs-identifier hs-type">fromInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097477"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097478"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679097477"><span class="hs-identifier hs-type">i</span></a></span></span></span><span>
</span><span id="line-118"></span><span id="fromInput"><span class="annot"><span class="annottext">fromInput :: forall i o. IOAct i o -&gt; i
</span><a href="Lattest.Model.Alphabet.html#fromInput"><span class="hs-identifier hs-var hs-var">fromInput</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097658"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097658"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097658"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="annot"><span class="hs-comment">{- |
    Partially defined function that unpacks an outputs.
-}</span></span><span>
</span><span id="line-123"></span><span id="local-6989586621679097481"><span id="local-6989586621679097482"><span class="annot"><a href="Lattest.Model.Alphabet.html#fromOutput"><span class="hs-identifier hs-type">fromOutput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097481"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097482"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679097482"><span class="hs-identifier hs-type">o</span></a></span></span></span><span>
</span><span id="line-124"></span><span id="fromOutput"><span class="annot"><span class="annottext">fromOutput :: forall i o. IOAct i o -&gt; o
</span><a href="Lattest.Model.Alphabet.html#fromOutput"><span class="hs-identifier hs-var hs-var">fromOutput</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097659"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097659"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097659"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="annot"><span class="hs-comment">{- |
    Add observation of timeouts to a type of observable actions.
-}</span></span><span>
</span><span id="line-129"></span><span class="hs-keyword">data</span><span> </span><span id="Timeout"><span class="annot"><a href="Lattest.Model.Alphabet.html#Timeout"><span class="hs-identifier hs-var">Timeout</span></a></span></span><span> </span><span id="local-6989586621679097507"><span class="annot"><a href="#local-6989586621679097507"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Timeout"><span class="annot"><a href="Lattest.Model.Alphabet.html#Timeout"><span class="hs-identifier hs-var">Timeout</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="TimeoutOut"><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutOut"><span class="hs-identifier hs-var">TimeoutOut</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679097507"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097664"><span id="local-6989586621679097667"><span class="annot"><span class="annottext">Timeout o -&gt; Timeout o -&gt; Bool
(Timeout o -&gt; Timeout o -&gt; Bool)
-&gt; (Timeout o -&gt; Timeout o -&gt; Bool) -&gt; Eq (Timeout o)
forall o. Eq o =&gt; Timeout o -&gt; Timeout o -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall o. Eq o =&gt; Timeout o -&gt; Timeout o -&gt; Bool
== :: Timeout o -&gt; Timeout o -&gt; Bool
$c/= :: forall o. Eq o =&gt; Timeout o -&gt; Timeout o -&gt; Bool
/= :: Timeout o -&gt; Timeout o -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679097675"><span id="local-6989586621679097678"><span id="local-6989586621679097681"><span id="local-6989586621679097685"><span id="local-6989586621679097688"><span id="local-6989586621679097691"><span id="local-6989586621679097694"><span class="annot"><span class="annottext">Eq (Timeout o)
Eq (Timeout o)
-&gt; (Timeout o -&gt; Timeout o -&gt; Ordering)
-&gt; (Timeout o -&gt; Timeout o -&gt; Bool)
-&gt; (Timeout o -&gt; Timeout o -&gt; Bool)
-&gt; (Timeout o -&gt; Timeout o -&gt; Bool)
-&gt; (Timeout o -&gt; Timeout o -&gt; Bool)
-&gt; (Timeout o -&gt; Timeout o -&gt; Timeout o)
-&gt; (Timeout o -&gt; Timeout o -&gt; Timeout o)
-&gt; Ord (Timeout o)
Timeout o -&gt; Timeout o -&gt; Bool
Timeout o -&gt; Timeout o -&gt; Ordering
Timeout o -&gt; Timeout o -&gt; Timeout o
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {o}. Ord o =&gt; Eq (Timeout o)
forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Bool
forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Ordering
forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Timeout o
$ccompare :: forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Ordering
compare :: Timeout o -&gt; Timeout o -&gt; Ordering
$c&lt; :: forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Bool
&lt; :: Timeout o -&gt; Timeout o -&gt; Bool
$c&lt;= :: forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Bool
&lt;= :: Timeout o -&gt; Timeout o -&gt; Bool
$c&gt; :: forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Bool
&gt; :: Timeout o -&gt; Timeout o -&gt; Bool
$c&gt;= :: forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Bool
&gt;= :: Timeout o -&gt; Timeout o -&gt; Bool
$cmax :: forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Timeout o
max :: Timeout o -&gt; Timeout o -&gt; Timeout o
$cmin :: forall o. Ord o =&gt; Timeout o -&gt; Timeout o -&gt; Timeout o
min :: Timeout o -&gt; Timeout o -&gt; Timeout o
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097491"><span id="local-6989586621679097698"><span id="local-6989586621679097703"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679097491"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Timeout"><span class="hs-identifier hs-type">Timeout</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097491"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-132"></span><span>    </span><span id="local-6989586621679097706"><span class="annot"><span class="annottext">show :: Timeout o -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="annot"><span class="annottext">Timeout o
</span><a href="Lattest.Model.Alphabet.html#Timeout"><span class="hs-identifier hs-var">Timeout</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&#948;&quot;</span></span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutOut"><span class="hs-identifier hs-type">TimeoutOut</span></a></span><span> </span><span id="local-6989586621679097707"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097707"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097707"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span class="annot"><span class="hs-comment">{- |
    Add observation of timeouts to the observed inputs and outputs.
-}</span></span><span>
</span><span id="line-138"></span><span class="hs-keyword">type</span><span> </span><span id="TimeoutIO"><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIO"><span class="hs-identifier hs-var">TimeoutIO</span></a></span></span><span> </span><span id="local-6989586621679097708"><span class="annot"><a href="#local-6989586621679097708"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679097709"><span class="annot"><a href="#local-6989586621679097709"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097708"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Timeout"><span class="hs-identifier hs-type">Timeout</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097709"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="annot"><span class="hs-comment">{- |
    Relates input commands to observable inputs. A 'Nothing' input command, corresponds to observation of an output, which may lead to a timeout.
-}</span></span><span>
</span><span id="line-143"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097495"><span id="local-6989586621679097496"><span class="annot"><a href="Lattest.Model.Alphabet.html#InputCommand"><span class="hs-identifier hs-type">InputCommand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679097495"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIO"><span class="hs-identifier hs-type">TimeoutIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097495"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097496"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-comment">-- a (Maybe i) only makes sense in case of timeout outputs (quiescence), since testing would otherwise quickly deadlock</span><span>
</span><span id="line-145"></span><span>    </span><span id="local-6989586621679097718"><span class="annot"><span class="annottext">inputChoiceToActs :: Maybe i -&gt; [TimeoutIO i o]
</span><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputChoiceToActs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679097719"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097719"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOAct i o -&gt; TimeoutIO i o
forall i o. IOAct i o -&gt; TimeoutIO i o
</span><a href="Lattest.Model.Alphabet.html#asTimeout"><span class="hs-identifier hs-var">asTimeout</span></a></span><span> </span><span class="annot"><span class="annottext">(IOAct i o -&gt; TimeoutIO i o) -&gt; [IOAct i o] -&gt; [TimeoutIO i o]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; [IOAct i o]
forall i act. InputCommand i act =&gt; i -&gt; [act]
</span><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-var">inputChoiceToActs</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097719"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span class="annot"><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-var">inputChoiceToActs</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe i
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-147"></span><span>    </span><span id="local-6989586621679097721"><span class="annot"><span class="annottext">actToInputChoice :: TimeoutIO i o -&gt; Maybe (Maybe i)
</span><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-var hs-var hs-var hs-var">actToInputChoice</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="annot"><span class="annottext">Timeout o
</span><a href="Lattest.Model.Alphabet.html#Timeout"><span class="hs-identifier hs-var">Timeout</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe i -&gt; Maybe (Maybe i)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Maybe i
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-var">actToInputChoice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutOut"><span class="hs-identifier hs-type">TimeoutOut</span></a></span><span> </span><span id="local-6989586621679097722"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097722"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (Maybe i)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-var">actToInputChoice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097723"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097723"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe i -&gt; Maybe (Maybe i)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Maybe i -&gt; Maybe (Maybe i)) -&gt; Maybe i -&gt; Maybe (Maybe i)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; Maybe i
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097723"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span class="annot"><span class="hs-comment">{- |
    Convert an input or output to a type containing timeouts.
-}</span></span><span>
</span><span id="line-154"></span><span id="local-6989586621679097497"><span id="local-6989586621679097498"><span class="annot"><a href="Lattest.Model.Alphabet.html#asTimeout"><span class="hs-identifier hs-type">asTimeout</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097497"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097498"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIO"><span class="hs-identifier hs-type">TimeoutIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097497"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097498"><span class="hs-identifier hs-type">o</span></a></span></span></span><span>
</span><span id="line-155"></span><span id="asTimeout"><span class="annot"><span class="annottext">asTimeout :: forall i o. IOAct i o -&gt; TimeoutIO i o
</span><a href="Lattest.Model.Alphabet.html#asTimeout"><span class="hs-identifier hs-var hs-var">asTimeout</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097724"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097724"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; IOAct i (Timeout o)
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097724"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-156"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#asTimeout"><span class="hs-identifier hs-var">asTimeout</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097725"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097725"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Timeout o -&gt; IOAct i (Timeout o)
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Timeout o
forall o. o -&gt; Timeout o
</span><a href="Lattest.Model.Alphabet.html#TimeoutOut"><span class="hs-identifier hs-var">TimeoutOut</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097725"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="annot"><span class="hs-comment">{- |
    Partially defined function that unpacks an input or output from a type with timeouts.
-}</span></span><span>
</span><span id="line-161"></span><span id="local-6989586621679097508"><span id="local-6989586621679097509"><span class="annot"><a href="Lattest.Model.Alphabet.html#fromTimeout"><span class="hs-identifier hs-type">fromTimeout</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIO"><span class="hs-identifier hs-type">TimeoutIO</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097508"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097509"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097508"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097509"><span class="hs-identifier hs-type">o</span></a></span></span></span><span>
</span><span id="line-162"></span><span id="fromTimeout"><span class="annot"><span class="annottext">fromTimeout :: forall i o. TimeoutIO i o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#fromTimeout"><span class="hs-identifier hs-var hs-var">fromTimeout</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097726"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097726"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; IOAct i o
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097726"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-163"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#fromTimeout"><span class="hs-identifier hs-var">fromTimeout</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutOut"><span class="hs-identifier hs-type">TimeoutOut</span></a></span><span> </span><span id="local-6989586621679097727"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097727"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o -&gt; IOAct i o
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097727"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-164"></span><span>
</span><span id="line-165"></span><span class="hs-comment">-- (i, True) represents a succesful i, (i, False) represents a failed attempt at i</span><span>
</span><span id="line-166"></span><span class="hs-keyword">newtype</span><span> </span><span id="Attempt"><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-var">Attempt</span></a></span></span><span> </span><span id="local-6989586621679097534"><span class="annot"><a href="#local-6989586621679097534"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Attempt"><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-var">Attempt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679097534"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097731"><span id="local-6989586621679097737"><span class="annot"><span class="annottext">Attempt i -&gt; Attempt i -&gt; Bool
(Attempt i -&gt; Attempt i -&gt; Bool)
-&gt; (Attempt i -&gt; Attempt i -&gt; Bool) -&gt; Eq (Attempt i)
forall i. Eq i =&gt; Attempt i -&gt; Attempt i -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall i. Eq i =&gt; Attempt i -&gt; Attempt i -&gt; Bool
== :: Attempt i -&gt; Attempt i -&gt; Bool
$c/= :: forall i. Eq i =&gt; Attempt i -&gt; Attempt i -&gt; Bool
/= :: Attempt i -&gt; Attempt i -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679097748"><span id="local-6989586621679097754"><span id="local-6989586621679097759"><span id="local-6989586621679097764"><span id="local-6989586621679097769"><span id="local-6989586621679097774"><span id="local-6989586621679097779"><span class="annot"><span class="annottext">Eq (Attempt i)
Eq (Attempt i)
-&gt; (Attempt i -&gt; Attempt i -&gt; Ordering)
-&gt; (Attempt i -&gt; Attempt i -&gt; Bool)
-&gt; (Attempt i -&gt; Attempt i -&gt; Bool)
-&gt; (Attempt i -&gt; Attempt i -&gt; Bool)
-&gt; (Attempt i -&gt; Attempt i -&gt; Bool)
-&gt; (Attempt i -&gt; Attempt i -&gt; Attempt i)
-&gt; (Attempt i -&gt; Attempt i -&gt; Attempt i)
-&gt; Ord (Attempt i)
Attempt i -&gt; Attempt i -&gt; Bool
Attempt i -&gt; Attempt i -&gt; Ordering
Attempt i -&gt; Attempt i -&gt; Attempt i
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
forall {i}. Ord i =&gt; Eq (Attempt i)
forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Bool
forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Ordering
forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Attempt i
$ccompare :: forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Ordering
compare :: Attempt i -&gt; Attempt i -&gt; Ordering
$c&lt; :: forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Bool
&lt; :: Attempt i -&gt; Attempt i -&gt; Bool
$c&lt;= :: forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Bool
&lt;= :: Attempt i -&gt; Attempt i -&gt; Bool
$c&gt; :: forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Bool
&gt; :: Attempt i -&gt; Attempt i -&gt; Bool
$c&gt;= :: forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Bool
&gt;= :: Attempt i -&gt; Attempt i -&gt; Bool
$cmax :: forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Attempt i
max :: Attempt i -&gt; Attempt i -&gt; Attempt i
$cmin :: forall i. Ord i =&gt; Attempt i -&gt; Attempt i -&gt; Attempt i
min :: Attempt i -&gt; Attempt i -&gt; Attempt i
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-167"></span><span>
</span><span id="line-168"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097522"><span id="local-6989586621679097787"><span id="local-6989586621679097792"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679097522"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097522"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-169"></span><span>    </span><span id="local-6989586621679097796"><span class="annot"><span class="annottext">show :: Attempt i -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097797"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097797"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097797"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097798"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097798"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621679097799"><span class="hs-identifier hs-var">showFailure</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097798"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-172"></span><span>        </span><span id="local-6989586621679097799"><span class="annot"><span class="annottext">showFailure :: ShowS
</span><a href="#local-6989586621679097799"><span class="hs-identifier hs-var hs-var">showFailure</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-173"></span><span>        </span><span class="annot"><a href="#local-6989586621679097799"><span class="hs-identifier hs-var">showFailure</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097800"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679097800"><span class="hs-identifier hs-var">c</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679097801"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679097801"><span class="hs-identifier hs-var">rest</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679097800"><span class="hs-identifier hs-var">c</span></a></span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\x0305'</span></span><span class="annot"><span class="annottext">Char -&gt; ShowS
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">ShowS
</span><a href="#local-6989586621679097799"><span class="hs-identifier hs-var">showFailure</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679097801"><span class="hs-identifier hs-var">rest</span></a></span><span> </span><span class="hs-comment">-- U+0305, combine-symbol for overline</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="annot"><span class="hs-comment">{- |
    Observable actions that may be either inputs provided to a system, or outputs from that system, where the 'inputs' may be refused.
-}</span></span><span>
</span><span id="line-178"></span><span class="hs-keyword">type</span><span> </span><span id="IFAct"><span class="annot"><a href="Lattest.Model.Alphabet.html#IFAct"><span class="hs-identifier hs-var">IFAct</span></a></span></span><span> </span><span id="local-6989586621679097802"><span class="annot"><a href="#local-6989586621679097802"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679097803"><span class="annot"><a href="#local-6989586621679097803"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097802"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679097803"><span class="hs-identifier hs-type">o</span></a></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span id="local-6989586621679097526"><span id="local-6989586621679097527"><span class="annot"><a href="Lattest.Model.Alphabet.html#Refusable"><span class="hs-identifier hs-type">Refusable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#IFAct"><span class="hs-identifier hs-type">IFAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097526"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097527"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-181"></span><span>    </span><span id="local-6989586621679097806"><span class="annot"><span class="annottext">isAccepted :: IFAct i o -&gt; Bool
</span><a href="Lattest.Model.Alphabet.html#isAccepted"><span class="hs-identifier hs-var hs-var hs-var hs-var">isAccepted</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><a href="Lattest.Model.Alphabet.html#isAccepted"><span class="hs-identifier hs-var">isAccepted</span></a></span><span> </span><span class="annot"><span class="annottext">IFAct i o
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-183"></span><span>
</span><span id="line-184"></span><span class="annot"><span class="hs-comment">{- |
    Relates input commands to observable inputs. An input command corresponds to an accepted input action, and both a refused and accepted input
    command correspond to the same input action.
-}</span></span><span>
</span><span id="line-188"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097530"><span id="local-6989586621679097531"><span class="annot"><a href="Lattest.Model.Alphabet.html#InputCommand"><span class="hs-identifier hs-type">InputCommand</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097530"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#IFAct"><span class="hs-identifier hs-type">IFAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097530"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097531"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-189"></span><span>    </span><span id="local-6989586621679097814"><span class="annot"><span class="annottext">inputChoiceToActs :: i -&gt; [IFAct i o]
</span><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputChoiceToActs</span></a></span></span><span> </span><span id="local-6989586621679097815"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097815"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOAct i o -&gt; IFAct i o
forall {i} {o}. IOAct i o -&gt; IOAct (Attempt i) o
</span><a href="#local-6989586621679097816"><span class="hs-identifier hs-var">inToAttempt</span></a></span><span> </span><span class="annot"><span class="annottext">(IOAct i o -&gt; IFAct i o) -&gt; [IOAct i o] -&gt; [IFAct i o]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; [IOAct i o]
forall i act. InputCommand i act =&gt; i -&gt; [act]
</span><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-var">inputChoiceToActs</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097815"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-190"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-191"></span><span>        </span><span id="local-6989586621679097816"><span class="annot"><span class="annottext">inToAttempt :: IOAct i o -&gt; IOAct (Attempt i) o
</span><a href="#local-6989586621679097816"><span class="hs-identifier hs-var hs-var">inToAttempt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097817"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097817"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Attempt i -&gt; IOAct (Attempt i) o
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, Bool) -&gt; Attempt i
forall i. (i, Bool) -&gt; Attempt i
</span><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-var">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097817"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-192"></span><span>        </span><span class="annot"><a href="#local-6989586621679097816"><span class="hs-identifier hs-var">inToAttempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097818"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097818"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o -&gt; IOAct (Attempt i) o
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097818"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span>
</span><span id="line-193"></span><span>    </span><span id="local-6989586621679097820"><span class="annot"><span class="annottext">actToInputChoice :: IFAct i o -&gt; Maybe i
</span><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-var hs-var hs-var hs-var">actToInputChoice</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOAct i o -&gt; Maybe i
forall i act. InputCommand i act =&gt; act -&gt; Maybe i
</span><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-var">actToInputChoice</span></a></span><span> </span><span class="annot"><span class="annottext">(IOAct i o -&gt; Maybe i)
-&gt; (IFAct i o -&gt; IOAct i o) -&gt; IFAct i o -&gt; Maybe i
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IFAct i o -&gt; IOAct i o
forall {i} {o}. IOAct (Attempt i) o -&gt; IOAct i o
</span><a href="#local-6989586621679097822"><span class="hs-identifier hs-var">attemptToIn</span></a></span><span>
</span><span id="line-194"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-195"></span><span>        </span><span id="local-6989586621679097822"><span class="annot"><span class="annottext">attemptToIn :: IOAct (Attempt i) o -&gt; IOAct i o
</span><a href="#local-6989586621679097822"><span class="hs-identifier hs-var hs-var">attemptToIn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097823"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097823"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; IOAct i o
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097823"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-196"></span><span>        </span><span class="annot"><a href="#local-6989586621679097822"><span class="hs-identifier hs-var">attemptToIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097824"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097824"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o -&gt; IOAct i o
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097824"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-197"></span><span>
</span><span id="line-198"></span><span class="annot"><span class="hs-comment">{- |
    Convert an input or output to a type containing input failures.
-}</span></span><span>
</span><span id="line-201"></span><span id="local-6989586621679097825"><span id="local-6989586621679097826"><span class="annot"><a href="Lattest.Model.Alphabet.html#asInputAttempt"><span class="hs-identifier hs-type">asInputAttempt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097825"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097826"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IFAct"><span class="hs-identifier hs-type">IFAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097825"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097826"><span class="hs-identifier hs-type">o</span></a></span></span></span><span>
</span><span id="line-202"></span><span id="asInputAttempt"><span class="annot"><span class="annottext">asInputAttempt :: forall {i} {o}. IOAct i o -&gt; IOAct (Attempt i) o
</span><a href="Lattest.Model.Alphabet.html#asInputAttempt"><span class="hs-identifier hs-var hs-var">asInputAttempt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097827"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097827"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Attempt i -&gt; IOAct (Attempt i) o
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, Bool) -&gt; Attempt i
forall i. (i, Bool) -&gt; Attempt i
</span><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-var">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097827"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-203"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#asInputAttempt"><span class="hs-identifier hs-var">asInputAttempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097828"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097828"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o -&gt; IOAct (Attempt i) o
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097828"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-204"></span><span>
</span><span id="line-205"></span><span class="annot"><span class="hs-comment">{- |
    Partially defined function that unpacks an input or output from a type with input failures.
-}</span></span><span>
</span><span id="line-208"></span><span id="local-6989586621679097829"><span id="local-6989586621679097830"><span class="annot"><a href="Lattest.Model.Alphabet.html#fromInputAttempt"><span class="hs-identifier hs-type">fromInputAttempt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IFAct"><span class="hs-identifier hs-type">IFAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097829"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097830"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097829"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097830"><span class="hs-identifier hs-type">o</span></a></span></span></span><span>
</span><span id="line-209"></span><span id="fromInputAttempt"><span class="annot"><span class="annottext">fromInputAttempt :: forall {i} {o}. IOAct (Attempt i) o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#fromInputAttempt"><span class="hs-identifier hs-var hs-var">fromInputAttempt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097831"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097831"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; IOAct i o
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097831"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-210"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#fromInputAttempt"><span class="hs-identifier hs-var">fromInputAttempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097832"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097832"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o -&gt; IOAct i o
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097832"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-comment">-- ideally, this could just be defined by stacking IFAct and TimeoutIO to avoid all the boilerplate below, but that is a bit of a hassle</span><span>
</span><span id="line-213"></span><span class="annot"><span class="hs-comment">{- |
    Input failure with observed timeouts. See 'TimeoutIO' and 'IFAct' for details.
-}</span></span><span>
</span><span id="line-216"></span><span class="hs-keyword">type</span><span> </span><span id="TimeoutIF"><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIF"><span class="hs-identifier hs-var">TimeoutIF</span></a></span></span><span> </span><span id="local-6989586621679097833"><span class="annot"><a href="#local-6989586621679097833"><span class="hs-identifier hs-type">i</span></a></span></span><span> </span><span id="local-6989586621679097834"><span class="annot"><a href="#local-6989586621679097834"><span class="hs-identifier hs-type">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097833"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Timeout"><span class="hs-identifier hs-type">Timeout</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097834"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097547"><span id="local-6989586621679097548"><span class="annot"><a href="Lattest.Model.Alphabet.html#InputCommand"><span class="hs-identifier hs-type">InputCommand</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679097547"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIF"><span class="hs-identifier hs-type">TimeoutIF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097547"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097548"><span class="hs-identifier hs-type">o</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>    </span><span id="local-6989586621679097842"><span class="annot"><span class="annottext">inputChoiceToActs :: Maybe i -&gt; [TimeoutIF i o]
</span><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputChoiceToActs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Maybe i
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Timeout o -&gt; TimeoutIF i o
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="annot"><span class="annottext">Timeout o
forall o. Timeout o
</span><a href="Lattest.Model.Alphabet.html#Timeout"><span class="hs-identifier hs-var">Timeout</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-220"></span><span>    </span><span class="annot"><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-var">inputChoiceToActs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679097843"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097843"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOAct i (Timeout o) -&gt; TimeoutIF i o
forall {i} {o}. IOAct i o -&gt; IOAct (Attempt i) o
</span><a href="#local-6989586621679097844"><span class="hs-identifier hs-var">inToAttempt</span></a></span><span> </span><span class="annot"><span class="annottext">(IOAct i (Timeout o) -&gt; TimeoutIF i o)
-&gt; [IOAct i (Timeout o)] -&gt; [TimeoutIF i o]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">i -&gt; [IOAct i (Timeout o)]
forall i act. InputCommand i act =&gt; i -&gt; [act]
</span><a href="Lattest.Model.Alphabet.html#inputChoiceToActs"><span class="hs-identifier hs-var">inputChoiceToActs</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097843"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-221"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-222"></span><span>        </span><span id="local-6989586621679097844"><span class="annot"><span class="annottext">inToAttempt :: IOAct i o -&gt; IOAct (Attempt i) o
</span><a href="#local-6989586621679097844"><span class="hs-identifier hs-var hs-var">inToAttempt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097845"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097845"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Attempt i -&gt; IOAct (Attempt i) o
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, Bool) -&gt; Attempt i
forall i. (i, Bool) -&gt; Attempt i
</span><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-var">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097845"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>        </span><span class="annot"><a href="#local-6989586621679097844"><span class="hs-identifier hs-var">inToAttempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097846"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097846"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o -&gt; IOAct (Attempt i) o
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097846"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span>
</span><span id="line-224"></span><span>    </span><span class="hs-comment">--actToInputChoice (Out Timeout) = Just Nothing</span><span>
</span><span id="line-225"></span><span>    </span><span id="local-6989586621679097848"><span class="annot"><span class="annottext">actToInputChoice :: TimeoutIF i o -&gt; Maybe (Maybe i)
</span><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-var hs-var hs-var hs-var">actToInputChoice</span></a></span></span><span> </span><span id="local-6989586621679097849"><span class="annot"><span class="annottext">TimeoutIF i o
</span><a href="#local-6989586621679097849"><span class="hs-identifier hs-var">other</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IOAct i (Timeout o) -&gt; Maybe (Maybe i)
forall i act. InputCommand i act =&gt; act -&gt; Maybe i
</span><a href="Lattest.Model.Alphabet.html#actToInputChoice"><span class="hs-identifier hs-var">actToInputChoice</span></a></span><span> </span><span class="annot"><span class="annottext">(IOAct i (Timeout o) -&gt; Maybe (Maybe i))
-&gt; IOAct i (Timeout o) -&gt; Maybe (Maybe i)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TimeoutIF i o -&gt; IOAct i (Timeout o)
forall {i} {o}. IOAct (Attempt i) o -&gt; IOAct i o
</span><a href="#local-6989586621679097850"><span class="hs-identifier hs-var">attemptToIn</span></a></span><span> </span><span class="annot"><span class="annottext">TimeoutIF i o
</span><a href="#local-6989586621679097849"><span class="hs-identifier hs-var">other</span></a></span><span>
</span><span id="line-226"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-227"></span><span>        </span><span id="local-6989586621679097850"><span class="annot"><span class="annottext">attemptToIn :: IOAct (Attempt i) o -&gt; IOAct i o
</span><a href="#local-6989586621679097850"><span class="hs-identifier hs-var hs-var">attemptToIn</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097851"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097851"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; IOAct i o
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097851"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-228"></span><span>        </span><span class="annot"><a href="#local-6989586621679097850"><span class="hs-identifier hs-var">attemptToIn</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097852"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097852"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o -&gt; IOAct i o
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097852"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="annot"><span class="hs-comment">{- |
    Convert an input or output to a type containing input failures and timeouts.
-}</span></span><span>
</span><span id="line-233"></span><span id="local-6989586621679097553"><span id="local-6989586621679097554"><span class="annot"><a href="Lattest.Model.Alphabet.html#asTimeoutInputAttempt"><span class="hs-identifier hs-type">asTimeoutInputAttempt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097553"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097554"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIF"><span class="hs-identifier hs-type">TimeoutIF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097553"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097554"><span class="hs-identifier hs-type">o</span></a></span></span></span><span>
</span><span id="line-234"></span><span id="asTimeoutInputAttempt"><span class="annot"><span class="annottext">asTimeoutInputAttempt :: forall i o. IOAct i o -&gt; TimeoutIF i o
</span><a href="Lattest.Model.Alphabet.html#asTimeoutInputAttempt"><span class="hs-identifier hs-var hs-var">asTimeoutInputAttempt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span id="local-6989586621679097853"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097853"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Attempt i -&gt; IOAct (Attempt i) (Timeout o)
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(i, Bool) -&gt; Attempt i
forall i. (i, Bool) -&gt; Attempt i
</span><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-var">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097853"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#asTimeoutInputAttempt"><span class="hs-identifier hs-var">asTimeoutInputAttempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span id="local-6989586621679097854"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097854"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Timeout o -&gt; IOAct (Attempt i) (Timeout o)
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">o -&gt; Timeout o
forall o. o -&gt; Timeout o
</span><a href="Lattest.Model.Alphabet.html#TimeoutOut"><span class="hs-identifier hs-var">TimeoutOut</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097854"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="annot"><span class="hs-comment">{- |
    Partially defined function that unpacks an input or output from a type with input failures and timeouts.
-}</span></span><span>
</span><span id="line-240"></span><span id="local-6989586621679097557"><span id="local-6989586621679097558"><span class="annot"><a href="Lattest.Model.Alphabet.html#fromTimeoutInputAttempt"><span class="hs-identifier hs-type">fromTimeoutInputAttempt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutIF"><span class="hs-identifier hs-type">TimeoutIF</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097557"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097558"><span class="hs-identifier hs-type">o</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.Alphabet.html#IOAct"><span class="hs-identifier hs-type">IOAct</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097557"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097558"><span class="hs-identifier hs-type">o</span></a></span></span></span><span>
</span><span id="line-241"></span><span id="fromTimeoutInputAttempt"><span class="annot"><span class="annottext">fromTimeoutInputAttempt :: forall i o. TimeoutIF i o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#fromTimeoutInputAttempt"><span class="hs-identifier hs-var hs-var">fromTimeoutInputAttempt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-type">In</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Attempt"><span class="hs-identifier hs-type">Attempt</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679097855"><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097855"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">i -&gt; IOAct i o
forall i o. i -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#In"><span class="hs-identifier hs-var">In</span></a></span><span> </span><span class="annot"><span class="annottext">i
</span><a href="#local-6989586621679097855"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-242"></span><span class="annot"><a href="Lattest.Model.Alphabet.html#fromTimeoutInputAttempt"><span class="hs-identifier hs-var">fromTimeoutInputAttempt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-type">Out</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.Alphabet.html#TimeoutOut"><span class="hs-identifier hs-type">TimeoutOut</span></a></span><span> </span><span id="local-6989586621679097856"><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097856"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">o -&gt; IOAct i o
forall i o. o -&gt; IOAct i o
</span><a href="Lattest.Model.Alphabet.html#Out"><span class="hs-identifier hs-var">Out</span></a></span><span> </span><span class="annot"><span class="annottext">o
</span><a href="#local-6989586621679097856"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-243"></span></pre></body></html>