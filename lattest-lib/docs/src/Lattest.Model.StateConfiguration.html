<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FunctionalDependencies #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE GeneralizedNewtypeDeriving #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE DeriveFunctor #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE DeriveFoldable #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE ConstraintKinds #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="annot"><span class="hs-comment">{- |
    A /state configuration/ is a type constructor which represents the observable perspective on the state of an automaton. A
    system will internally have a state, but this state can not always be observed or inferred for an external viewer. To model
    the difference between internal and observable state, we define automata as having a type of internal state, say q, and
    an observable state configuration over q.
    
    In this module, we define three such state configurations:
    
    * deterministic state configurations, where every behaviour leads to a single state,
    * non-deterministic state configurations, where given observable behaviour may lead to a set of states, and
    * distributive lattices, or positive boolean formulas, where the observable behaviour is expressed as a logical expression over states.
    
    Here, 'observed behaviour' is formally a trace or sequence of observable actions. Thus, after a trace, the system is
    in a state configuration over states. The state configuration is computed by taking transitions, following the monadic semantics 
    of the state configuration. If the automaton does not exhibit a given trace of actions, then the state configuration after
    that trace is either 'forbidden' or 'underspecified'. Here, 'forbidden' expresses that the automaton does not allow the
    given trace, whereas 'underspecified' expresses that the automaton does not specify the trace, hence the trace is allowed.
    
    For more details see
    
    * [/Ramon Janssen/, Refinement and partiality for model-based testing (Doctoral dissertation), 2022, Chapter 4](https://repository.ubn.ru.nl/bitstream/handle/2066/285020/285020.pdf)
-}</span></span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Lattest.Model.StateConfiguration</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-33"></span><span class="annot"><span class="hs-comment">-- * State configurations</span></span><span>
</span><span id="line-34"></span><span class="annot"><span class="hs-comment">-- ** Deterministic</span></span><span>
</span><span id="line-35"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#DetState"><span class="hs-identifier">DetState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span class="annot"><span class="hs-comment">-- ** Non-deterministic</span></span><span>
</span><span id="line-37"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier">NonDetState</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span class="annot"><span class="hs-comment">-- ** Distributive lattice</span></span><span>
</span><span id="line-39"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier">FDL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#atom"><span class="hs-identifier">atom</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#top"><span class="hs-identifier">top</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#bot"><span class="hs-identifier">bot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#%5C%2F"><span class="hs-operator">(\/)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#%2F%5C"><span class="hs-operator">(/\)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span class="annot"><span class="hs-comment">-- * Permissions</span></span><span>
</span><span id="line-46"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Permission"><span class="hs-identifier">Permission</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier">PermissionConfiguration</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#permission"><span class="hs-identifier">permission</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#forbidden"><span class="hs-identifier">forbidden</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#underspecified"><span class="hs-identifier">underspecified</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier">isForbidden</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier">isUnderspecified</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span class="annot"><span class="hs-comment">-- ** Auxiliary Permission functions</span></span><span>
</span><span id="line-54"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isAllowed"><span class="hs-identifier">isAllowed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isSpecified"><span class="hs-identifier">isSpecified</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isIndefinite"><span class="hs-identifier">isIndefinite</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isConclusive"><span class="hs-identifier">isConclusive</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span class="annot"><span class="hs-comment">-- ** Utility types</span></span><span>
</span><span id="line-59"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#StateConfiguration"><span class="hs-identifier">StateConfiguration</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionApplicative"><span class="hs-identifier">PermissionApplicative</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionFunctor"><span class="hs-identifier">PermissionFunctor</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span class="annot"><span class="hs-comment">-- ** General non-determinism</span></span><span>
</span><span id="line-63"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#JoinSemiLattice"><span class="hs-identifier">JoinSemiLattice</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#join"><span class="hs-identifier">join</span></a></span><span>
</span><span id="line-65"></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">where</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Algebra.Lattice.Free</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Free</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">lowerFree</span></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Algebra.Lattice.Levitated</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Levitated</span></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Algebra.Lattice</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Lattice</span></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Algebra.Lattice</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(/\)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(\/)</span></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ap</span></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="annot"><span class="hs-comment">-- | Deterministic state configuration. This means that an automaton is either in a single state, or in an explicit forbidden configuration, or in an explicit underspecified configuration.</span></span><span>
</span><span id="line-76"></span><span class="hs-keyword">data</span><span> </span><span id="DetState"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#DetState"><span class="hs-identifier hs-var">DetState</span></a></span></span><span> </span><span id="local-6989586621679097659"><span class="annot"><a href="#local-6989586621679097659"><span class="hs-identifier hs-type">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Det"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-var">Det</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679097659"><span class="hs-identifier hs-type">q</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="ForbiddenDet"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="UnderspecDet"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#DetState"><span class="hs-identifier hs-type">DetState</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-79"></span><span>    </span><span id="local-6989586621679097863"><span class="annot"><span class="annottext">isForbidden :: forall t. DetState t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier hs-var hs-var hs-var hs-var">isForbidden</span></a></span></span><span> </span><span class="annot"><span class="annottext">DetState t
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-80"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier hs-var">isForbidden</span></a></span><span> </span><span class="annot"><span class="annottext">DetState t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-81"></span><span>    </span><span id="local-6989586621679097864"><span class="annot"><span class="annottext">isUnderspecified :: forall t. DetState t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier hs-var hs-var hs-var hs-var">isUnderspecified</span></a></span></span><span> </span><span class="annot"><span class="annottext">DetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-82"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier hs-var">isUnderspecified</span></a></span><span> </span><span class="annot"><span class="annottext">DetState t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-83"></span><span>    </span><span id="local-6989586621679097865"><span class="annot"><span class="annottext">forbidden :: forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#forbidden"><span class="hs-identifier hs-var hs-var hs-var hs-var">forbidden</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState t
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span>
</span><span id="line-84"></span><span>    </span><span id="local-6989586621679097866"><span class="annot"><span class="annottext">underspecified :: forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#underspecified"><span class="hs-identifier hs-var hs-var hs-var hs-var">underspecified</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState t
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097869"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#DetState"><span class="hs-identifier hs-type">DetState</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-87"></span><span>    </span><span id="local-6989586621679097873"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; DetState a -&gt; DetState b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679097874"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679097874"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-type">Det</span></a></span><span> </span><span id="local-6989586621679097875"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097875"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; DetState b
forall q. q -&gt; DetState q
</span><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-var">Det</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679097874"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097875"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">DetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState b
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">DetState a
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState b
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span>
</span><span id="line-90"></span><span>    </span><span>
</span><span id="line-91"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097881"><span id="local-6989586621679097885"><span id="local-6989586621679097888"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#DetState"><span class="hs-identifier hs-type">DetState</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-92"></span><span>    </span><span id="local-6989586621679097891"><span class="annot"><span class="annottext">pure :: forall q. q -&gt; DetState q
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span id="local-6989586621679097892"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097892"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; DetState a
forall q. q -&gt; DetState q
</span><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-var">Det</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097892"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-93"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-type">Det</span></a></span><span> </span><span id="local-6989586621679097893"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679097893"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679097894"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. DetState (a -&gt; b) -&gt; DetState a -&gt; DetState b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-type">Det</span></a></span><span> </span><span id="local-6989586621679097895"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097895"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b -&gt; DetState b
forall q. q -&gt; DetState q
</span><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-var">Det</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679097893"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097895"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-94"></span><span>    </span><span class="annot"><span class="annottext">DetState (a -&gt; b)
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">DetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState b
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="annottext">DetState (a -&gt; b)
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">DetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState b
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><span class="annottext">DetState (a -&gt; b)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">DetState a
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState b
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><span class="annottext">DetState (a -&gt; b)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">DetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState b
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span>
</span><span id="line-99"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097900"><span id="local-6989586621679097904"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#DetState"><span class="hs-identifier hs-type">DetState</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-type">Det</span></a></span><span> </span><span id="local-6989586621679097907"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097907"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679097908"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. DetState a -&gt; (a -&gt; DetState b) -&gt; DetState b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;=</span></span></span><span> </span><span id="local-6989586621679097909"><span class="annot"><span class="annottext">a -&gt; DetState b
</span><a href="#local-6989586621679097909"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; DetState b
</span><a href="#local-6989586621679097909"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097907"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-101"></span><span>    </span><span class="annot"><span class="annottext">DetState a
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; DetState b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState b
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><span class="annottext">DetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; DetState b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DetState b
forall t. DetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span>
</span><span id="line-103"></span><span>
</span><span id="line-104"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097911"><span id="local-6989586621679097917"><span id="local-6989586621679097922"><span id="local-6989586621679097928"><span id="local-6989586621679097931"><span id="local-6989586621679097934"><span id="local-6989586621679097937"><span id="local-6989586621679097940"><span id="local-6989586621679097943"><span id="local-6989586621679097946"><span id="local-6989586621679097949"><span id="local-6989586621679097952"><span id="local-6989586621679097957"><span id="local-6989586621679097962"><span id="local-6989586621679097967"><span id="local-6989586621679097972"><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#DetState"><span class="hs-identifier hs-type">DetState</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-105"></span><span>    </span><span id="local-6989586621679097977"><span class="annot"><span class="annottext">foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; DetState a -&gt; b
</span><a href="#local-6989586621679097977"><span class="hs-identifier hs-var hs-var hs-var hs-var">foldr</span></a></span></span><span> </span><span id="local-6989586621679097979"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621679097979"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679097980"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679097980"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-type">Det</span></a></span><span> </span><span id="local-6989586621679097981"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097981"><span class="hs-identifier hs-var">q'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621679097979"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097981"><span class="hs-identifier hs-var">q'</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679097980"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-106"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679097982"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679097982"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="annot"><span class="annottext">DetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679097982"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097710"><span id="local-6989586621679097985"><span id="local-6989586621679097990"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679097710"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#DetState"><span class="hs-identifier hs-type">DetState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097710"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-109"></span><span>    </span><span id="local-6989586621679097994"><span class="annot"><span class="annottext">show :: DetState a -&gt; String
</span><a href="#local-6989586621679097994"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Det"><span class="hs-identifier hs-type">Det</span></a></span><span> </span><span id="local-6989586621679097996"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097996"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679097996"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">DetState a
</span><a href="Lattest.Model.StateConfiguration.html#ForbiddenDet"><span class="hs-identifier hs-var">ForbiddenDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-forbidden-&quot;</span></span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">DetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecDet"><span class="hs-identifier hs-var">UnderspecDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-underspecified-&quot;</span></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="annot"><span class="hs-comment">-- | Non-deterministic state configuration. This means that an automaton non-deterministically in a number of states, where zero states indicates the forbidden configuration, or in an explicit underspecified configuration.</span></span><span>
</span><span id="line-115"></span><span class="hs-keyword">data</span><span> </span><span id="NonDetState"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-var">NonDetState</span></a></span></span><span> </span><span id="local-6989586621679097715"><span class="annot"><a href="#local-6989586621679097715"><span class="hs-identifier hs-type">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NonDet"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-var">NonDet</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679097715"><span class="hs-identifier hs-type">q</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="UnderspecNonDet"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span></span><span>
</span><span id="line-116"></span><span class="hs-comment">-- TODO implement set-equality</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-type">NonDetState</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-119"></span><span>    </span><span id="local-6989586621679098004"><span class="annot"><span class="annottext">isForbidden :: forall t. NonDetState t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier hs-var hs-var hs-var hs-var">isForbidden</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-120"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier hs-var">isForbidden</span></a></span><span> </span><span class="annot"><span class="annottext">NonDetState t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-121"></span><span>    </span><span id="local-6989586621679098005"><span class="annot"><span class="annottext">isUnderspecified :: forall t. NonDetState t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier hs-var hs-var hs-var hs-var">isUnderspecified</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonDetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-122"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier hs-var">isUnderspecified</span></a></span><span> </span><span class="annot"><span class="annottext">NonDetState t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-123"></span><span>    </span><span id="local-6989586621679098006"><span class="annot"><span class="annottext">forbidden :: forall t. NonDetState t
</span><a href="Lattest.Model.StateConfiguration.html#forbidden"><span class="hs-identifier hs-var hs-var hs-var hs-var">forbidden</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[t] -&gt; NonDetState t
forall q. [q] -&gt; NonDetState q
</span><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-var">NonDet</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-124"></span><span>    </span><span id="local-6989586621679098007"><span class="annot"><span class="annottext">underspecified :: forall t. NonDetState t
</span><a href="Lattest.Model.StateConfiguration.html#underspecified"><span class="hs-identifier hs-var hs-var hs-var hs-var">underspecified</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonDetState t
forall t. NonDetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679098010"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-type">NonDetState</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-127"></span><span>    </span><span id="local-6989586621679098015"><span class="annot"><span class="annottext">fmap :: forall a b. (a -&gt; b) -&gt; NonDetState a -&gt; NonDetState b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span id="local-6989586621679098016"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679098016"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098017"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098017"><span class="hs-identifier hs-var">ss</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[b] -&gt; NonDetState b
forall q. [q] -&gt; NonDetState q
</span><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-var">NonDet</span></a></span><span> </span><span class="annot"><span class="annottext">([b] -&gt; NonDetState b) -&gt; [b] -&gt; NonDetState b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; [a] -&gt; [b]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679098016"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098017"><span class="hs-identifier hs-var">ss</span></a></span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonDetState b
forall t. NonDetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span>
</span><span id="line-129"></span><span>    </span><span>
</span><span id="line-130"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679098023"><span id="local-6989586621679098027"><span id="local-6989586621679098030"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-type">NonDetState</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-131"></span><span>    </span><span id="local-6989586621679098032"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; NonDetState a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span id="local-6989586621679098033"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098033"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; NonDetState a
forall q. [q] -&gt; NonDetState q
</span><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-var">NonDet</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098033"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098036"><span class="annot"><span class="annottext">[a -&gt; b]
</span><a href="#local-6989586621679098036"><span class="hs-identifier hs-var">fs</span></a></span></span><span> </span><span id="local-6989586621679098037"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. NonDetState (a -&gt; b) -&gt; NonDetState a -&gt; NonDetState b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;*&gt;</span></span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098038"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098038"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[b] -&gt; NonDetState b
forall q. [q] -&gt; NonDetState q
</span><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-var">NonDet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a -&gt; b]
</span><a href="#local-6989586621679098036"><span class="hs-identifier hs-var">fs</span></a></span><span> </span><span class="annot"><span class="annottext">[a -&gt; b] -&gt; [a] -&gt; [b]
forall a b. [a -&gt; b] -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098038"><span class="hs-identifier hs-var">ss</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><span class="annottext">NonDetState (a -&gt; b)
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonDetState b
forall t. NonDetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span class="annot"><span class="annottext">NonDetState (a -&gt; b)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonDetState b
forall t. NonDetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span>
</span><span id="line-135"></span><span>    </span><span>
</span><span id="line-136"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679098043"><span id="local-6989586621679098047"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-type">NonDetState</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-137"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098054"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098054"><span class="hs-identifier hs-var">ss</span></a></span></span><span> </span><span id="local-6989586621679098055"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. NonDetState a -&gt; (a -&gt; NonDetState b) -&gt; NonDetState b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;=</span></span></span><span> </span><span id="local-6989586621679098056"><span class="annot"><span class="annottext">a -&gt; NonDetState b
</span><a href="#local-6989586621679098056"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(NonDetState b -&gt; NonDetState b -&gt; NonDetState b)
-&gt; NonDetState b -&gt; [NonDetState b] -&gt; NonDetState b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">NonDetState b -&gt; NonDetState b -&gt; NonDetState b
forall a. JoinSemiLattice a =&gt; a -&gt; a -&gt; a
</span><a href="Lattest.Model.StateConfiguration.html#join"><span class="hs-identifier hs-var">join</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[b] -&gt; NonDetState b
forall q. [q] -&gt; NonDetState q
</span><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-var">NonDet</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([NonDetState b] -&gt; NonDetState b)
-&gt; [NonDetState b] -&gt; NonDetState b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; NonDetState b) -&gt; [a] -&gt; [NonDetState b]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; NonDetState b
</span><a href="#local-6989586621679098056"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098054"><span class="hs-identifier hs-var">ss</span></a></span><span>  </span><span>
</span><span id="line-138"></span><span>    </span><span class="annot"><span class="annottext">NonDetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; NonDetState b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonDetState b
forall t. NonDetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span>
</span><span id="line-139"></span><span>
</span><span id="line-140"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679098058"><span id="local-6989586621679098064"><span id="local-6989586621679098069"><span id="local-6989586621679098075"><span id="local-6989586621679098078"><span id="local-6989586621679098081"><span id="local-6989586621679098084"><span id="local-6989586621679098087"><span id="local-6989586621679098090"><span id="local-6989586621679098093"><span id="local-6989586621679098096"><span id="local-6989586621679098099"><span id="local-6989586621679098104"><span id="local-6989586621679098109"><span id="local-6989586621679098114"><span id="local-6989586621679098119"><span class="annot"><span class="hs-identifier hs-type">Foldable</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-type">NonDetState</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-141"></span><span>    </span><span id="local-6989586621679098124"><span class="annot"><span class="annottext">foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; NonDetState a -&gt; b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">foldr</span></span></span><span> </span><span id="local-6989586621679098125"><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621679098125"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679098126"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679098126"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098127"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098127"><span class="hs-identifier hs-var">qs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; [a] -&gt; b
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><a href="#local-6989586621679098125"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679098126"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098127"><span class="hs-identifier hs-var">qs</span></a></span><span>
</span><span id="line-142"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b -&gt; b
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679098128"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679098128"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679098128"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097742"><span id="local-6989586621679098131"><span id="local-6989586621679098136"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679097742"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-type">NonDetState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097742"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-145"></span><span>    </span><span id="local-6989586621679098140"><span class="annot"><span class="annottext">show :: NonDetState a -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098141"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098141"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098141"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-146"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&#8868;&quot;</span></span><span>
</span><span id="line-147"></span><span>
</span><span id="line-148"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097747"><span id="local-6989586621679098145"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679097747"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-type">NonDetState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097747"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><span class="annottext">NonDetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span id="local-6989586621679098155"><span class="annot"><span class="annottext">== :: NonDetState a -&gt; NonDetState a -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098156"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098156"><span class="hs-identifier hs-var">q1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098157"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098157"><span class="hs-identifier hs-var">q2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Set a
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098156"><span class="hs-identifier hs-var">q1</span></a></span><span> </span><span class="annot"><span class="annottext">Set a -&gt; Set a -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Set a
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098157"><span class="hs-identifier hs-var">q2</span></a></span><span>
</span><span id="line-151"></span><span>    </span><span class="annot"><span class="annottext">NonDetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097752"><span id="local-6989586621679098163"><span id="local-6989586621679098167"><span id="local-6989586621679098171"><span id="local-6989586621679098174"><span id="local-6989586621679098177"><span id="local-6989586621679098180"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621679097752"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-type">NonDetState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097752"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-154"></span><span>    </span><span class="annot"><span class="annottext">NonDetState a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679098187"><span class="annot"><span class="annottext">&lt;= :: NonDetState a -&gt; NonDetState a -&gt; Bool
</span><a href="#local-6989586621679098187"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;=</span></a></span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-155"></span><span>    </span><span class="annot"><span class="annottext">NonDetState a
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098189"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098189"><span class="hs-identifier hs-var">q1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098190"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098190"><span class="hs-identifier hs-var">q2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Set a
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098189"><span class="hs-identifier hs-var">q1</span></a></span><span> </span><span class="annot"><span class="annottext">Set a -&gt; Set a -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; Set a
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">Set.fromList</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098190"><span class="hs-identifier hs-var">q2</span></a></span><span>
</span><span id="line-157"></span><span>
</span><span id="line-158"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097728"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#JoinSemiLattice"><span class="hs-identifier hs-type">JoinSemiLattice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDetState"><span class="hs-identifier hs-type">NonDetState</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097728"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-159"></span><span>    </span><span id="local-6989586621679098193"><span class="annot"><span class="annottext">join :: NonDetState a -&gt; NonDetState a -&gt; NonDetState a
</span><a href="Lattest.Model.StateConfiguration.html#join"><span class="hs-identifier hs-var hs-var hs-var hs-var">join</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098194"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098194"><span class="hs-identifier hs-var">q1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-type">NonDet</span></a></span><span> </span><span id="local-6989586621679098195"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098195"><span class="hs-identifier hs-var">q2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[a] -&gt; NonDetState a
forall q. [q] -&gt; NonDetState q
</span><a href="Lattest.Model.StateConfiguration.html#NonDet"><span class="hs-identifier hs-var">NonDet</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098194"><span class="hs-identifier hs-var">q1</span></a></span><span> </span><span class="annot"><span class="annottext">[a] -&gt; [a] -&gt; [a]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679098195"><span class="hs-identifier hs-var">q2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#join"><span class="hs-identifier hs-var">join</span></a></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">NonDetState a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonDetState a
forall t. NonDetState t
</span><a href="Lattest.Model.StateConfiguration.html#UnderspecNonDet"><span class="hs-identifier hs-var">UnderspecNonDet</span></a></span><span> </span><span class="hs-comment">-- underspecification acts as top, so is absorbing w.r.t. join</span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="annot"><span class="hs-comment">{-|
    Free distributive lattice, or a positive boolean formula, i.e., a boolean formula with conjunctions and disjunctions over atomic propositions. The two elements 'top' and 'bot' can be interpreted as true and false.
-}</span></span><span>
</span><span id="line-165"></span><span class="hs-keyword">newtype</span><span> </span><span id="FDL"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-var">FDL</span></a></span></span><span> </span><span id="local-6989586621679097779"><span class="annot"><a href="#local-6989586621679097779"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FDL"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-var">FDL</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Levitated</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Free</span></span><span> </span><span class="annot"><a href="#local-6989586621679097779"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679098199"><span id="local-6989586621679098205"><span class="annot"><span class="annottext">FDL a -&gt; FDL a -&gt; Bool
(FDL a -&gt; FDL a -&gt; Bool) -&gt; (FDL a -&gt; FDL a -&gt; Bool) -&gt; Eq (FDL a)
forall a. Ord a =&gt; FDL a -&gt; FDL a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: forall a. Ord a =&gt; FDL a -&gt; FDL a -&gt; Bool
== :: FDL a -&gt; FDL a -&gt; Bool
$c/= :: forall a. Ord a =&gt; FDL a -&gt; FDL a -&gt; Bool
/= :: FDL a -&gt; FDL a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679098212"><span id="local-6989586621679098218"><span class="annot"><span class="annottext">(forall a b. (a -&gt; b) -&gt; FDL a -&gt; FDL b)
-&gt; (forall a b. a -&gt; FDL b -&gt; FDL a) -&gt; Functor FDL
forall a b. a -&gt; FDL b -&gt; FDL a
forall a b. (a -&gt; b) -&gt; FDL a -&gt; FDL b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
$cfmap :: forall a b. (a -&gt; b) -&gt; FDL a -&gt; FDL b
fmap :: forall a b. (a -&gt; b) -&gt; FDL a -&gt; FDL b
$c&lt;$ :: forall a b. a -&gt; FDL b -&gt; FDL a
&lt;$ :: forall a b. a -&gt; FDL b -&gt; FDL a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679098223"><span id="local-6989586621679098229"><span id="local-6989586621679098238"><span id="local-6989586621679098243"><span id="local-6989586621679098247"><span id="local-6989586621679098250"><span id="local-6989586621679098253"><span id="local-6989586621679098256"><span id="local-6989586621679098259"><span id="local-6989586621679098262"><span id="local-6989586621679098265"><span id="local-6989586621679098269"><span id="local-6989586621679098272"><span id="local-6989586621679098277"><span id="local-6989586621679098282"><span id="local-6989586621679098287"><span id="local-6989586621679098292"><span class="annot"><span class="annottext">(forall m. Monoid m =&gt; FDL m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; FDL a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; FDL a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; FDL a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; FDL a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; FDL a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; FDL a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; FDL a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; FDL a -&gt; a)
-&gt; (forall a. FDL a -&gt; [a])
-&gt; (forall a. FDL a -&gt; Bool)
-&gt; (forall a. FDL a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; FDL a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; FDL a -&gt; a)
-&gt; (forall a. Ord a =&gt; FDL a -&gt; a)
-&gt; (forall a. Num a =&gt; FDL a -&gt; a)
-&gt; (forall a. Num a =&gt; FDL a -&gt; a)
-&gt; Foldable FDL
forall a. Eq a =&gt; a -&gt; FDL a -&gt; Bool
forall a. Num a =&gt; FDL a -&gt; a
forall a. Ord a =&gt; FDL a -&gt; a
forall m. Monoid m =&gt; FDL m -&gt; m
forall a. FDL a -&gt; Bool
forall a. FDL a -&gt; Int
forall a. FDL a -&gt; [a]
forall a. (a -&gt; a -&gt; a) -&gt; FDL a -&gt; a
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; FDL a -&gt; m
forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; FDL a -&gt; b
forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; FDL a -&gt; b
forall (t :: * -&gt; *).
(forall m. Monoid m =&gt; t m -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall m a. Monoid m =&gt; (a -&gt; m) -&gt; t a -&gt; m)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. (a -&gt; a -&gt; a) -&gt; t a -&gt; a)
-&gt; (forall a. t a -&gt; [a])
-&gt; (forall a. t a -&gt; Bool)
-&gt; (forall a. t a -&gt; Int)
-&gt; (forall a. Eq a =&gt; a -&gt; t a -&gt; Bool)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Ord a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; (forall a. Num a =&gt; t a -&gt; a)
-&gt; Foldable t
$cfold :: forall m. Monoid m =&gt; FDL m -&gt; m
fold :: forall m. Monoid m =&gt; FDL m -&gt; m
$cfoldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; FDL a -&gt; m
foldMap :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; FDL a -&gt; m
$cfoldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; FDL a -&gt; m
foldMap' :: forall m a. Monoid m =&gt; (a -&gt; m) -&gt; FDL a -&gt; m
$cfoldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; FDL a -&gt; b
foldr :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; FDL a -&gt; b
$cfoldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; FDL a -&gt; b
foldr' :: forall a b. (a -&gt; b -&gt; b) -&gt; b -&gt; FDL a -&gt; b
$cfoldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; FDL a -&gt; b
foldl :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; FDL a -&gt; b
$cfoldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; FDL a -&gt; b
foldl' :: forall b a. (b -&gt; a -&gt; b) -&gt; b -&gt; FDL a -&gt; b
$cfoldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; FDL a -&gt; a
foldr1 :: forall a. (a -&gt; a -&gt; a) -&gt; FDL a -&gt; a
$cfoldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; FDL a -&gt; a
foldl1 :: forall a. (a -&gt; a -&gt; a) -&gt; FDL a -&gt; a
$ctoList :: forall a. FDL a -&gt; [a]
toList :: forall a. FDL a -&gt; [a]
$cnull :: forall a. FDL a -&gt; Bool
null :: forall a. FDL a -&gt; Bool
$clength :: forall a. FDL a -&gt; Int
length :: forall a. FDL a -&gt; Int
$celem :: forall a. Eq a =&gt; a -&gt; FDL a -&gt; Bool
elem :: forall a. Eq a =&gt; a -&gt; FDL a -&gt; Bool
$cmaximum :: forall a. Ord a =&gt; FDL a -&gt; a
maximum :: forall a. Ord a =&gt; FDL a -&gt; a
$cminimum :: forall a. Ord a =&gt; FDL a -&gt; a
minimum :: forall a. Ord a =&gt; FDL a -&gt; a
$csum :: forall a. Num a =&gt; FDL a -&gt; a
sum :: forall a. Num a =&gt; FDL a -&gt; a
$cproduct :: forall a. Num a =&gt; FDL a -&gt; a
product :: forall a. Num a =&gt; FDL a -&gt; a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Foldable</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679098297"><span id="local-6989586621679098303"><span class="annot"><span class="annottext">FDL a -&gt; FDL a -&gt; FDL a
(FDL a -&gt; FDL a -&gt; FDL a)
-&gt; (FDL a -&gt; FDL a -&gt; FDL a) -&gt; Lattice (FDL a)
forall a. FDL a -&gt; FDL a -&gt; FDL a
forall a. (a -&gt; a -&gt; a) -&gt; (a -&gt; a -&gt; a) -&gt; Lattice a
$c\/ :: forall a. FDL a -&gt; FDL a -&gt; FDL a
\/ :: FDL a -&gt; FDL a -&gt; FDL a
$c/\ :: forall a. FDL a -&gt; FDL a -&gt; FDL a
/\ :: FDL a -&gt; FDL a -&gt; FDL a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Lattice</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="annot"><span class="hs-comment">-- | A single state embedded in a free distributive lattice.</span></span><span>
</span><span id="line-168"></span><span id="local-6989586621679097777"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#atom"><span class="hs-identifier hs-type">atom</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679097777"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097777"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-169"></span><span id="atom"><span class="annot"><span class="annottext">atom :: forall a. a -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#atom"><span class="hs-identifier hs-var hs-var">atom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Levitated (Free a) -&gt; FDL a
forall a. Levitated (Free a) -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-var">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">(Levitated (Free a) -&gt; FDL a)
-&gt; (a -&gt; Levitated (Free a)) -&gt; a -&gt; FDL a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Free a -&gt; Levitated (Free a)
forall a. a -&gt; Levitated a
</span><span class="hs-identifier hs-var">Levitate</span></span><span> </span><span class="annot"><span class="annottext">(Free a -&gt; Levitated (Free a))
-&gt; (a -&gt; Free a) -&gt; a -&gt; Levitated (Free a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Free a
forall a. a -&gt; Free a
</span><span class="hs-identifier hs-var">Var</span></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span class="annot"><span class="hs-comment">-- | The free distributive lattice element &#8869;, or false.</span></span><span>
</span><span id="line-172"></span><span id="local-6989586621679097785"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#bot"><span class="hs-identifier hs-type">bot</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097785"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-173"></span><span id="bot"><span class="annot"><span class="annottext">bot :: forall a. FDL a
</span><a href="Lattest.Model.StateConfiguration.html#bot"><span class="hs-identifier hs-var hs-var">bot</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Levitated (Free a) -&gt; FDL a
forall a. Levitated (Free a) -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-var">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free a)
forall a. Levitated a
</span><span class="hs-identifier hs-var">Bottom</span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="annot"><span class="hs-comment">-- | The free distributive lattice element &#8868;, or true.</span></span><span>
</span><span id="line-176"></span><span id="local-6989586621679098314"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#top"><span class="hs-identifier hs-type">top</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098314"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-177"></span><span id="top"><span class="annot"><span class="annottext">top :: forall a. FDL a
</span><a href="Lattest.Model.StateConfiguration.html#top"><span class="hs-identifier hs-var hs-var">top</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Levitated (Free a) -&gt; FDL a
forall a. Levitated (Free a) -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-var">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free a)
forall a. Levitated a
</span><span class="hs-identifier hs-var">Top</span></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="annot"><span class="hs-comment">-- | Disjunction on free distributive lattices.</span></span><span>
</span><span id="line-180"></span><span id="local-6989586621679098316"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#%5C%2F"><span class="hs-operator hs-type">(\/)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098316"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098316"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098316"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-181"></span><span id="%5C%2F"><span class="annot"><span class="annottext">\/ :: forall a. FDL a -&gt; FDL a -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#%5C%2F"><span class="hs-operator hs-var hs-var">(\/)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FDL a -&gt; FDL a -&gt; FDL a
forall a. Lattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(L.\/)</span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="annot"><span class="hs-comment">-- | Conjunction on free distributive lattices.</span></span><span>
</span><span id="line-184"></span><span id="local-6989586621679098318"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#%2F%5C"><span class="hs-operator hs-type">(/\)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098318"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098318"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098318"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-185"></span><span id="%2F%5C"><span class="annot"><span class="annottext">/\ :: forall a. FDL a -&gt; FDL a -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#%2F%5C"><span class="hs-operator hs-var hs-var">(/\)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FDL a -&gt; FDL a -&gt; FDL a
forall a. Lattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(L./\)</span></span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="annot"><span class="hs-comment">{-|
    An FDL as a state configuration means an automaton is in a state configuration of disjunctions (non-determinism) and conjunctions over states,
    where state configurations top and bottom, or true and false, indicate underspecified and forbidden configurations, respectively.
-}</span></span><span>
</span><span id="line-191"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>    </span><span id="local-6989586621679098325"><span class="annot"><span class="annottext">isForbidden :: forall a. FDL a -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier hs-var hs-var hs-var hs-var">isForbidden</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free t)
</span><span class="hs-identifier hs-var">Bottom</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-193"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier hs-var">isForbidden</span></a></span><span> </span><span class="annot"><span class="annottext">FDL t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-194"></span><span>    </span><span id="local-6989586621679098326"><span class="annot"><span class="annottext">isUnderspecified :: forall a. FDL a -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier hs-var hs-var hs-var hs-var">isUnderspecified</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free t)
</span><span class="hs-identifier hs-var">Top</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-195"></span><span>    </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier hs-var">isUnderspecified</span></a></span><span> </span><span class="annot"><span class="annottext">FDL t
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-196"></span><span>    </span><span id="local-6989586621679098327"><span class="annot"><span class="annottext">forbidden :: forall a. FDL a
</span><a href="Lattest.Model.StateConfiguration.html#forbidden"><span class="hs-identifier hs-var hs-var hs-var hs-var">forbidden</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Levitated (Free t) -&gt; FDL t
forall a. Levitated (Free a) -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-var">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free t)
forall a. Levitated a
</span><span class="hs-identifier hs-var">Bottom</span></span><span>
</span><span id="line-197"></span><span>    </span><span id="local-6989586621679098328"><span class="annot"><span class="annottext">underspecified :: forall a. FDL a
</span><a href="Lattest.Model.StateConfiguration.html#underspecified"><span class="hs-identifier hs-var hs-var hs-var hs-var">underspecified</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Levitated (Free t) -&gt; FDL t
forall a. Levitated (Free a) -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-var">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free t)
forall a. Levitated a
</span><span class="hs-identifier hs-var">Top</span></span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679098334"><span id="local-6989586621679098338"><span id="local-6989586621679098341"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-200"></span><span>    </span><span id="local-6989586621679098343"><span class="annot"><span class="annottext">pure :: forall a. a -&gt; FDL a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; FDL a
forall a. a -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#atom"><span class="hs-identifier hs-var">atom</span></a></span><span>
</span><span id="line-201"></span><span>    </span><span id="local-6989586621679098346"><span class="annot"><span class="annottext">&lt;*&gt; :: forall a b. FDL (a -&gt; b) -&gt; FDL a -&gt; FDL b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;*&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FDL (a -&gt; b) -&gt; FDL a -&gt; FDL b
forall (m :: * -&gt; *) a b. Monad m =&gt; m (a -&gt; b) -&gt; m a -&gt; m b
</span><span class="hs-identifier hs-var">ap</span></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679098351"><span id="local-6989586621679098354"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-204"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free a)
</span><span class="hs-identifier hs-var">Bottom</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679098357"><span class="annot"><span class="annottext">&gt;&gt;= :: forall a b. FDL a -&gt; (a -&gt; FDL b) -&gt; FDL b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;=</span></span></span><span> </span><span class="annot"><span class="annottext">a -&gt; FDL b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Levitated (Free b) -&gt; FDL b
forall a. Levitated (Free a) -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-var">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free b)
forall a. Levitated a
</span><span class="hs-identifier hs-var">Bottom</span></span><span>
</span><span id="line-205"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free a)
</span><span class="hs-identifier hs-var">Top</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; FDL b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Levitated (Free b) -&gt; FDL b
forall a. Levitated (Free a) -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-var">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free b)
forall a. Levitated a
</span><span class="hs-identifier hs-var">Top</span></span><span>
</span><span id="line-206"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Levitate</span></span><span> </span><span id="local-6989586621679098358"><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098358"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span id="local-6989586621679098359"><span class="annot"><span class="annottext">a -&gt; FDL b
</span><a href="#local-6989586621679098359"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; FDL b) -&gt; Free a -&gt; FDL b
forall b a. Lattice b =&gt; (a -&gt; b) -&gt; Free a -&gt; b
</span><span class="hs-identifier hs-var">lowerFree</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; FDL b
</span><a href="#local-6989586621679098359"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098358"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097805"><span id="local-6989586621679098362"><span id="local-6989586621679098367"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679097805"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097805"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-209"></span><span>    </span><span id="local-6989586621679098370"><span class="annot"><span class="annottext">show :: FDL a -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free a)
</span><span class="hs-identifier hs-var">Top</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&#8868;&quot;</span></span><span>
</span><span id="line-210"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><span class="annottext">Levitated (Free a)
</span><span class="hs-identifier hs-var">Bottom</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&#8869;&quot;</span></span><span>
</span><span id="line-211"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Levitate</span></span><span> </span><span id="local-6989586621679098371"><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098371"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Free a -&gt; String
forall {a}. Show a =&gt; Free a -&gt; String
</span><a href="#local-6989586621679098372"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098371"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-212"></span><span>        </span><span class="hs-keyword">where</span><span>
</span><span id="line-213"></span><span>        </span><span id="local-6989586621679098372"><span class="annot"><span class="annottext">show' :: Free a -&gt; String
</span><a href="#local-6989586621679098372"><span class="hs-identifier hs-var hs-var">show'</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Var</span></span><span> </span><span id="local-6989586621679098375"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098375"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679098375"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-214"></span><span>        </span><span class="annot"><a href="#local-6989586621679098372"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679098376"><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098376"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:\/:</span></span><span> </span><span id="local-6989586621679098378"><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098378"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Free a -&gt; String
</span><a href="#local-6989586621679098372"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098376"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &#8744; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Free a -&gt; String
</span><a href="#local-6989586621679098372"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098378"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-215"></span><span>        </span><span class="annot"><a href="#local-6989586621679098372"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679098379"><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098379"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:/\:</span></span><span> </span><span id="local-6989586621679098381"><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098381"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Free a -&gt; String
</span><a href="#local-6989586621679098372"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098379"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &#8743; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Free a -&gt; String
</span><a href="#local-6989586621679098372"><span class="hs-identifier hs-var">show'</span></a></span><span> </span><span class="annot"><span class="annottext">Free a
</span><a href="#local-6989586621679098381"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679097808"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#JoinSemiLattice"><span class="hs-identifier hs-type">JoinSemiLattice</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#FDL"><span class="hs-identifier hs-type">FDL</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097808"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-218"></span><span>    </span><span id="local-6989586621679098385"><span class="annot"><span class="annottext">join :: FDL a -&gt; FDL a -&gt; FDL a
</span><a href="Lattest.Model.StateConfiguration.html#join"><span class="hs-identifier hs-var hs-var hs-var hs-var">join</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FDL a -&gt; FDL a -&gt; FDL a
forall a. Lattice a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(L.\/)</span></span><span> </span><span class="hs-comment">-- it should be possible to generalize this to arbitrary instances, see remark below the JoinSemiLattice class itself </span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="annot"><span class="hs-comment">{-|
    Permissions describe wether behaviour (a sequence of actions) is allowed a stateful specification model. 'Forbidden' describes that
    behaviour is not allowed, not is any subsequent behaviour. 'Underspecified' describes that behaviour is allowed and any subsequent
    behaviour is also allowed. 'Indefinite' means that the behaviour is allowed, and subsequent behaviour may be forbidden, underspecified,
    or may again be 'Indefinite'. 
-}</span></span><span>
</span><span id="line-226"></span><span class="hs-keyword">data</span><span> </span><span id="Permission"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Permission"><span class="hs-identifier hs-var">Permission</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Underspecified"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Underspecified"><span class="hs-identifier hs-var">Underspecified</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Forbidden"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Forbidden"><span class="hs-identifier hs-var">Forbidden</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Indefinite"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#Indefinite"><span class="hs-identifier hs-var">Indefinite</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679098390"><span id="local-6989586621679098392"><span class="annot"><span class="annottext">Permission -&gt; Permission -&gt; Bool
(Permission -&gt; Permission -&gt; Bool)
-&gt; (Permission -&gt; Permission -&gt; Bool) -&gt; Eq Permission
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
$c== :: Permission -&gt; Permission -&gt; Bool
== :: Permission -&gt; Permission -&gt; Bool
$c/= :: Permission -&gt; Permission -&gt; Bool
/= :: Permission -&gt; Permission -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679098398"><span id="local-6989586621679098400"><span id="local-6989586621679098402"><span id="local-6989586621679098406"><span id="local-6989586621679098409"><span id="local-6989586621679098412"><span id="local-6989586621679098415"><span class="annot"><span class="annottext">Eq Permission
Eq Permission
-&gt; (Permission -&gt; Permission -&gt; Ordering)
-&gt; (Permission -&gt; Permission -&gt; Bool)
-&gt; (Permission -&gt; Permission -&gt; Bool)
-&gt; (Permission -&gt; Permission -&gt; Bool)
-&gt; (Permission -&gt; Permission -&gt; Bool)
-&gt; (Permission -&gt; Permission -&gt; Permission)
-&gt; (Permission -&gt; Permission -&gt; Permission)
-&gt; Ord Permission
Permission -&gt; Permission -&gt; Bool
Permission -&gt; Permission -&gt; Ordering
Permission -&gt; Permission -&gt; Permission
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
$ccompare :: Permission -&gt; Permission -&gt; Ordering
compare :: Permission -&gt; Permission -&gt; Ordering
$c&lt; :: Permission -&gt; Permission -&gt; Bool
&lt; :: Permission -&gt; Permission -&gt; Bool
$c&lt;= :: Permission -&gt; Permission -&gt; Bool
&lt;= :: Permission -&gt; Permission -&gt; Bool
$c&gt; :: Permission -&gt; Permission -&gt; Bool
&gt; :: Permission -&gt; Permission -&gt; Bool
$c&gt;= :: Permission -&gt; Permission -&gt; Bool
&gt;= :: Permission -&gt; Permission -&gt; Bool
$cmax :: Permission -&gt; Permission -&gt; Permission
max :: Permission -&gt; Permission -&gt; Permission
$cmin :: Permission -&gt; Permission -&gt; Permission
min :: Permission -&gt; Permission -&gt; Permission
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679098418"><span id="local-6989586621679098420"><span id="local-6989586621679098424"><span class="annot"><span class="annottext">Int -&gt; Permission -&gt; ShowS
[Permission] -&gt; ShowS
Permission -&gt; String
(Int -&gt; Permission -&gt; ShowS)
-&gt; (Permission -&gt; String)
-&gt; ([Permission] -&gt; ShowS)
-&gt; Show Permission
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
$cshowsPrec :: Int -&gt; Permission -&gt; ShowS
showsPrec :: Int -&gt; Permission -&gt; ShowS
$cshow :: Permission -&gt; String
show :: Permission -&gt; String
$cshowList :: [Permission] -&gt; ShowS
showList :: [Permission] -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679098427"><span id="local-6989586621679098431"><span id="local-6989586621679098434"><span id="local-6989586621679098440"><span class="annot"><span class="annottext">ReadPrec [Permission]
ReadPrec Permission
Int -&gt; ReadS Permission
ReadS [Permission]
(Int -&gt; ReadS Permission)
-&gt; ReadS [Permission]
-&gt; ReadPrec Permission
-&gt; ReadPrec [Permission]
-&gt; Read Permission
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
$creadsPrec :: Int -&gt; ReadS Permission
readsPrec :: Int -&gt; ReadS Permission
$creadList :: ReadS [Permission]
readList :: ReadS [Permission]
$creadPrec :: ReadPrec Permission
readPrec :: ReadPrec Permission
$creadListPrec :: ReadPrec [Permission]
readListPrec :: ReadPrec [Permission]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><span class="hs-comment">{-|
    Permission configurations are state configurations which have a representation for forbidden and underspecified configurations.
-}</span></span><span>
</span><span id="line-231"></span><span class="hs-keyword">class</span><span> </span><span id="PermissionConfiguration"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-var">PermissionConfiguration</span></a></span></span><span> </span><span id="local-6989586621679097647"><span class="annot"><a href="#local-6989586621679097647"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>    </span><span id="forbidden"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#forbidden"><span class="hs-identifier hs-type">forbidden</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679097642"><span class="annot"><a href="#local-6989586621679097647"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097642"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The forbidden state configuration. </span></span><span>
</span><span id="line-233"></span><span>    </span><span id="underspecified"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#underspecified"><span class="hs-identifier hs-type">underspecified</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679098443"><span class="annot"><a href="#local-6989586621679097647"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098443"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ The underspecified state configuration.</span></span><span>
</span><span id="line-234"></span><span>    </span><span id="isForbidden"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier hs-type">isForbidden</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679097644"><span class="annot"><a href="#local-6989586621679097647"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097644"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Is this state configuration forbidden?</span></span><span>
</span><span id="line-235"></span><span>    </span><span id="isUnderspecified"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier hs-type">isUnderspecified</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span id="local-6989586621679097831"><span class="annot"><a href="#local-6989586621679097647"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097831"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span> </span><span class="annot"><span class="hs-comment">-- ^ Is this state configuration underspecified?</span></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="annot"><span class="hs-comment">-- | Extract the current 'Permission' from a permission configuration.</span></span><span>
</span><span id="line-238"></span><span id="permission"><span class="annot"><span class="annottext">permission :: m t -&gt; Permission
</span><a href="Lattest.Model.StateConfiguration.html#permission"><span class="hs-identifier hs-var hs-var">permission</span></a></span></span><span> </span><span id="local-6989586621679098447"><span class="annot"><span class="annottext">m t
</span><a href="#local-6989586621679098447"><span class="hs-identifier hs-var">c</span></a></span></span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">m t -&gt; Bool
forall (t :: k). m t -&gt; Bool
forall {k} (m :: k -&gt; *) (t :: k).
PermissionConfiguration m =&gt;
m t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier hs-var">isForbidden</span></a></span><span> </span><span class="annot"><span class="annottext">m t
</span><a href="#local-6989586621679098447"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Permission
</span><a href="Lattest.Model.StateConfiguration.html#Forbidden"><span class="hs-identifier hs-var">Forbidden</span></a></span><span>
</span><span id="line-240"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">m t -&gt; Bool
forall (t :: k). m t -&gt; Bool
forall {k} (m :: k -&gt; *) (t :: k).
PermissionConfiguration m =&gt;
m t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier hs-var">isUnderspecified</span></a></span><span> </span><span class="annot"><span class="annottext">m t
</span><a href="#local-6989586621679098447"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Permission
</span><a href="Lattest.Model.StateConfiguration.html#Underspecified"><span class="hs-identifier hs-var">Underspecified</span></a></span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Permission
</span><a href="Lattest.Model.StateConfiguration.html#Indefinite"><span class="hs-identifier hs-var">Indefinite</span></a></span><span>
</span><span id="line-242"></span><span>
</span><span id="line-243"></span><span class="annot"><span class="hs-comment">-- | Is the configuration a representation of the 'Indefinite' permission?</span></span><span>
</span><span id="line-244"></span><span id="local-6989586621679097817"><span id="local-6989586621679097818"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isIndefinite"><span class="hs-identifier hs-type">isIndefinite</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097817"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679097817"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679097818"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-245"></span><span id="isIndefinite"><span class="annot"><span class="annottext">isIndefinite :: forall {k} (m :: k -&gt; *) (t :: k).
PermissionConfiguration m =&gt;
m t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isIndefinite"><span class="hs-identifier hs-var hs-var">isIndefinite</span></a></span></span><span> </span><span id="local-6989586621679098451"><span class="annot"><span class="annottext">m t
</span><a href="#local-6989586621679098451"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m t -&gt; Permission
forall {k} {m :: k -&gt; *} {t :: k}.
PermissionConfiguration m =&gt;
m t -&gt; Permission
</span><a href="Lattest.Model.StateConfiguration.html#permission"><span class="hs-identifier hs-var">permission</span></a></span><span> </span><span class="annot"><span class="annottext">m t
</span><a href="#local-6989586621679098451"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Permission -&gt; Permission -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Permission
</span><a href="Lattest.Model.StateConfiguration.html#Indefinite"><span class="hs-identifier hs-var">Indefinite</span></a></span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span class="annot"><span class="hs-comment">-- | Is the configuration a representation of a &quot;definitive&quot; permission, i.e., 'Forbidden' or 'Underspecified'?</span></span><span>
</span><span id="line-248"></span><span id="local-6989586621679098452"><span id="local-6989586621679098453"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isConclusive"><span class="hs-identifier hs-type">isConclusive</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098452"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679098452"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098453"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-249"></span><span id="isConclusive"><span class="annot"><span class="annottext">isConclusive :: forall {k} (m :: k -&gt; *) (t :: k).
PermissionConfiguration m =&gt;
m t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isConclusive"><span class="hs-identifier hs-var hs-var">isConclusive</span></a></span></span><span> </span><span id="local-6989586621679098457"><span class="annot"><span class="annottext">m t
</span><a href="#local-6989586621679098457"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m t -&gt; Permission
forall {k} {m :: k -&gt; *} {t :: k}.
PermissionConfiguration m =&gt;
m t -&gt; Permission
</span><a href="Lattest.Model.StateConfiguration.html#permission"><span class="hs-identifier hs-var">permission</span></a></span><span> </span><span class="annot"><span class="annottext">m t
</span><a href="#local-6989586621679098457"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">Permission -&gt; Permission -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Permission
</span><a href="Lattest.Model.StateConfiguration.html#Indefinite"><span class="hs-identifier hs-var">Indefinite</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="annot"><span class="hs-comment">-- | Is the configuration a representation of an &quot;allowed&quot; permission, i.e., 'Indefinite' or 'Underspecified'?</span></span><span>
</span><span id="line-252"></span><span id="local-6989586621679098459"><span id="local-6989586621679098460"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isAllowed"><span class="hs-identifier hs-type">isAllowed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098459"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679098459"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098460"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-253"></span><span id="isAllowed"><span class="annot"><span class="annottext">isAllowed :: forall {k} (m :: k -&gt; *) (t :: k).
PermissionConfiguration m =&gt;
m t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isAllowed"><span class="hs-identifier hs-var hs-var">isAllowed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (m t -&gt; Bool) -&gt; m t -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">m t -&gt; Bool
forall (t :: k). m t -&gt; Bool
forall {k} (m :: k -&gt; *) (t :: k).
PermissionConfiguration m =&gt;
m t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isForbidden"><span class="hs-identifier hs-var">isForbidden</span></a></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span class="annot"><span class="hs-comment">-- | Is the configuration a representation of a &quot;specified&quot; permission, i.e., 'Indefinite' or 'Forbidden'?</span></span><span>
</span><span id="line-256"></span><span id="local-6989586621679098464"><span id="local-6989586621679098465"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#isSpecified"><span class="hs-identifier hs-type">isSpecified</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098464"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679098464"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098465"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-257"></span><span id="isSpecified"><span class="annot"><span class="annottext">isSpecified :: forall {k} (m :: k -&gt; *) (t :: k).
PermissionConfiguration m =&gt;
m t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isSpecified"><span class="hs-identifier hs-var hs-var">isSpecified</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (m t -&gt; Bool) -&gt; m t -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">m t -&gt; Bool
forall (t :: k). m t -&gt; Bool
forall {k} (m :: k -&gt; *) (t :: k).
PermissionConfiguration m =&gt;
m t -&gt; Bool
</span><a href="Lattest.Model.StateConfiguration.html#isUnderspecified"><span class="hs-identifier hs-var">isUnderspecified</span></a></span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="annot"><span class="hs-comment">-- | Abbreviation for types which are both permission configurations and Monads.</span></span><span>
</span><span id="line-260"></span><span class="hs-keyword">type</span><span> </span><span id="StateConfiguration"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#StateConfiguration"><span class="hs-identifier hs-var">StateConfiguration</span></a></span></span><span> </span><span id="local-6989586621679098468"><span class="annot"><a href="#local-6989586621679098468"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098468"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679098468"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>
</span><span id="line-262"></span><span class="annot"><span class="hs-comment">-- | Abbreviation for types which are both permission configurations and Applicatives.</span></span><span>
</span><span id="line-263"></span><span class="hs-keyword">type</span><span> </span><span id="PermissionApplicative"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionApplicative"><span class="hs-identifier hs-var">PermissionApplicative</span></a></span></span><span> </span><span id="local-6989586621679098469"><span class="annot"><a href="#local-6989586621679098469"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098469"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="annot"><a href="#local-6989586621679098469"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="annot"><span class="hs-comment">-- | Abbreviation for types which are both permission configurations and Functors.</span></span><span>
</span><span id="line-266"></span><span class="hs-keyword">type</span><span> </span><span id="PermissionFunctor"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionFunctor"><span class="hs-identifier hs-var">PermissionFunctor</span></a></span></span><span> </span><span id="local-6989586621679098470"><span class="annot"><a href="#local-6989586621679098470"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Lattest.Model.StateConfiguration.html#PermissionConfiguration"><span class="hs-identifier hs-type">PermissionConfiguration</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679098470"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679098470"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="annot"><span class="hs-comment">-- | Because the lattices-library doesn't support this</span></span><span>
</span><span id="line-269"></span><span class="hs-keyword">class</span><span> </span><span id="JoinSemiLattice"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#JoinSemiLattice"><span class="hs-identifier hs-var">JoinSemiLattice</span></a></span></span><span> </span><span id="local-6989586621679097730"><span class="annot"><a href="#local-6989586621679097730"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-270"></span><span>    </span><span id="join"><span class="annot"><a href="Lattest.Model.StateConfiguration.html#join"><span class="hs-identifier hs-type">join</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679097730"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679097730"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679097730"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="hs-comment">--this would be very sensible but it confuses the compiler greatly. Maybe the UndecidableInstances and Overlapping language extensions don't like each other?</span><span>
</span><span id="line-273"></span><span class="hs-comment">--instance Lattice a =&gt; JoinSemiLattice a where</span><span>
</span><span id="line-274"></span><span class="hs-comment">--    join = (L.\/)</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span></pre></body></html>